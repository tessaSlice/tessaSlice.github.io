---
import "../styles/global.css";
import { Icon } from "astro-icon/components";
---

<div class="nav-container">
    <button class="hamburger-menu" aria-label="Menu"> &#9776; </button>
    <div class="nav-links">
        <!-- TODO: move this to the left -->
        <a href="/"><Icon name="home" class="icon" /></a>

        <!-- TODO: move the rest of these to the right -->
        <a href="mailto:amyrlee@umich.edu" class="contact-button">
            <Icon name="email" class="icon" />
        </a>
        <a
            href="https://www.linkedin.com/in/amy-lee-umich"
            class="contact-button"
            target="_blank"
        >
            <Icon name="linkedin" class="icon" />
        </a>
        <a
            href="https://github.com/tessaSlice"
            class="contact-button"
            target="_blank"
        >
            <Icon name="github-dark" class="icon" />
        </a>

        <a href="/resume/"><Icon name="resume" class="icon" /></a>

        <button id="theme-toggle">
            <span id="theme-icon-light">&#9728;</span>
            <span id="theme-icon-dark">&#9790;</span>
        </button>
    </div>
</div>

<script>
    function toggleTheme() {
        const currentTheme =
            document.documentElement.getAttribute("data-theme") || "light";
        const newTheme = currentTheme === "light" ? "dark" : "light";
        document.documentElement.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        updateStyles(newTheme);
        updateIcon(newTheme);
    }

    function updateIcon(theme) {
        const iconLight = document.getElementById("theme-icon-light");
        const iconDark = document.getElementById("theme-icon-dark");
        if (theme === "light") {
            iconLight.style.display = "inline";
            iconDark.style.display = "none";
        } else {
            iconLight.style.display = "none";
            iconDark.style.display = "inline";
        }
    }

    document
        .getElementById("theme-toggle")
        .addEventListener("click", toggleTheme);

    function updateStyles(theme) {
        const root = document.documentElement;

        if (theme === "dark") {
            root.style.setProperty(
                "--background-color",
                "var(--dark-background-color)",
            );
            root.style.setProperty("--text-color", "var(--dark-text-color)");
            root.style.setProperty(
                "--button-background-color",
                "var(--dark-button-background-color)",
            );
            root.style.setProperty(
                "--button-text-color",
                "var(--dark-button-text-color)",
            );
        } else {
            root.style.setProperty(
                "--background-color",
                "var(--default-background-color)",
            );
            root.style.setProperty("--text-color", "var(--default-text-color)");
            root.style.setProperty(
                "--button-background-color",
                "var(--default-button-background-color)",
            );
            root.style.setProperty(
                "--button-text-color",
                "var(--default-button-text-color)",
            );
        }
    }

    // Toggle navigation links visibility on hamburger menu click
    document.querySelector(".hamburger-menu").addEventListener("click", () => {
        document.querySelector(".nav-links").classList.toggle("expanded");
    });
</script>
